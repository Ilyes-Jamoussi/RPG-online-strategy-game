.board-tile {
    position: relative;
    width: 100%;
    height: 100%;
    transition: all 0.2s ease-in-out;
    cursor: pointer;

    &.reachable {
        &::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 8px;
            z-index: 4;
            background: radial-gradient(circle at center, rgba(74, 222, 128, 0.2), transparent 80%);
            animation: reachablePulse 2s ease-in-out infinite;
        }

        &::before {
            content: '';
            position: absolute;
            inset: 4px;
            border-radius: 6px;
            z-index: 4;
            border: 2px solid rgba(74, 222, 128, 0.3);
            box-shadow:
                0 0 10px rgba(74, 222, 128, 0.2),
                inset 0 0 8px rgba(74, 222, 128, 0.1);
            animation: glowPulse 2s ease-in-out infinite;
            opacity: 0.8;
        }
    }

    &.inPath {
        &::before {
            content: 'ðŸ‘£';
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: #3b82f6;
            opacity: 0;
            z-index: 4;
            animation: footstepAppear 0.3s ease-out forwards;
            text-shadow:
                0 0 10px rgba(59, 130, 246, 0.4),
                0 0 20px rgba(59, 130, 246, 0.2);
            transform: rotate(45deg);
        }

        &::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(45deg, rgba(59, 130, 246, 0.1), transparent);
            border-radius: 8px;
            z-index: 3;
        }
    }

    &.interactive {
        cursor: pointer;

        &:hover {
            transform: scale(1.02);
        }
    }

    img {
        position: absolute;
        width: 100%;
        height: 100%;
        object-fit: contain;
    }

    .tile-layer {
        z-index: 1;
    }
    .item-layer {
        z-index: 2;
    }
    .avatar-layer {
        z-index: 3;
    }
}

@keyframes reachablePulse {
    0%,
    100% {
        background: radial-gradient(circle at center, rgba(74, 222, 128, 0.15), transparent 80%);
    }
    50% {
        background: radial-gradient(circle at center, rgba(74, 222, 128, 0.25), transparent 80%);
    }
}

@keyframes glowPulse {
    0%,
    100% {
        opacity: 0.6;
        box-shadow:
            0 0 10px rgba(74, 222, 128, 0.2),
            inset 0 0 8px rgba(74, 222, 128, 0.1);
    }
    50% {
        opacity: 0.8;
        box-shadow:
            0 0 15px rgba(74, 222, 128, 0.3),
            inset 0 0 12px rgba(74, 222, 128, 0.2);
    }
}

@keyframes footstepAppear {
    0% {
        opacity: 0;
        transform: scale(0.8) rotate(45deg);
    }
    100% {
        opacity: 0.8;
        transform: scale(1) rotate(45deg);
    }
}

.board-tile.reachable.inPath {
    &::before {
        content: 'ðŸ‘£';
        border: none;
        box-shadow: none;
        color: #3b82f6;
        animation: footstepAppear 0.3s ease-out forwards;
    }
    &::after {
        background: linear-gradient(45deg, rgba(59, 130, 246, 0.15), transparent);
    }
}
