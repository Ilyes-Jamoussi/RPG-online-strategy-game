<div class="character-attributes-panel">
    <!-- Character name section -->
    <div class="attribute-group name-section">
        <h3>Character Name</h3>
        <div class="name-input-container">
            <input
                type="text"
                [ngModel]="playerService.player().name"
                (ngModelChange)="updateCharacterName($event)"
                placeholder="Enter your character's name"
                maxlength="20"
                class="character-name-input"
            />
        </div>
    </div>

    <!-- Base attributes section -->
    <div class="attribute-group base-attributes">
        <h3>Base Attributes</h3>
        <div class="attributes-container">
            <!-- Health -->
            <div class="attribute-bar">
                <div class="attribute-header">
                    <span class="name">Health</span>
                    <span class="value">{{ getAttributeValue('maxHp') }}/6</span>
                </div>
                <div class="progress-bar">
                    <div class="progress" [style.width.%]="(getAttributeValue('maxHp') / 6) * 100"></div>
                </div>
                <button class="bonus-button" (click)="selectBonus('maxHp')" [class.selected]="isBonusSelected('maxHp')">+2 Bonus</button>
                <p class="description">Character's health points</p>
            </div>

            <!-- Speed -->
            <div class="attribute-bar">
                <div class="attribute-header">
                    <span class="name">Speed</span>
                    <span class="value">{{ getAttributeValue('speed') }}/6</span>
                </div>
                <div class="progress-bar">
                    <div class="progress" [style.width.%]="(getAttributeValue('speed') / 6) * 100"></div>
                </div>
                <button class="bonus-button" (click)="selectBonus('speed')" [class.selected]="isBonusSelected('speed')">+2 Bonus</button>
                <p class="description">Determines turn order and movement points</p>
            </div>

            <!-- Attack -->
            <div class="attribute-bar">
                <div class="attribute-header">
                    <span class="name">Attack</span>
                    <span class="value">{{ getAttributeValue('attack') }}/4</span>
                </div>
                <div class="progress-bar">
                    <div class="progress" [style.width.%]="(getAttributeValue('attack') / 4) * 100"></div>
                </div>
                <p class="description">Strength with which an attack is made on the opponent</p>
            </div>

            <!-- Defense -->
            <div class="attribute-bar">
                <div class="attribute-header">
                    <span class="name">Defense</span>
                    <span class="value">{{ getAttributeValue('defense') }}/4</span>
                </div>
                <div class="progress-bar">
                    <div class="progress" [style.width.%]="(getAttributeValue('defense') / 4) * 100"></div>
                </div>
                <p class="description">Ability to block an opponent's attack</p>
            </div>
        </div>
    </div>

    <!-- Combat dice section -->
    <div class="attribute-group dice-section">
        <h3>Combat Dice Selection</h3>
        <div class="dice-container">
            <div class="attribute dice-button" (click)="selectDice('attackDice')" [class.selected]="isDiceSelected('attackDice')">
                <span class="label">Attack Die</span>
                <div class="dice-display">
                    <img
                        class="dice-icon"
                        [src]="getDiceImage(playerService.player().attackDice === diceType.D6 ? diceType.D6 : diceType.D4)"
                        alt="Attack dice"
                    />
                </div>
                <div class="dice-value">{{ playerService.player().attackDice === diceType.D6 ? '6' : '4' }}</div>
            </div>

            <div class="attribute dice-button" (click)="selectDice('defenseDice')" [class.selected]="isDiceSelected('defenseDice')">
                <span class="label">Defense Die</span>
                <div class="dice-display">
                    <img
                        class="dice-icon"
                        [src]="getDiceImage(playerService.player().defenseDice === diceType.D6 ? diceType.D6 : diceType.D4)"
                        alt="Defense dice"
                    />
                </div>
                <div class="dice-value">{{ playerService.player().defenseDice === diceType.D6 ? '6' : '4' }}</div>
            </div>
        </div>
    </div>

    <!-- Validation button -->
    <div class="attribute-group validation-section">
        <button class="validate-button" [disabled]="!playerService.canCreateCharacter()" (click)="onValidate()">Validate Character</button>
    </div>
</div>
